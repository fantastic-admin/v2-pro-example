import{d as R,r as o,B as w,aa as r,E as m,e as i,a2 as U,j as V,i as s,o as B,f as C,g as u,w as d}from"./index-17000ae8.js";const L=R({__name:"index",props:{id:{type:[Number,String],default:""}},setup(p,{expose:c}){const f=p,n=o(!1),a=o(),e=o({id:f.id,title:""}),_=o({title:[{required:!0,message:"请输入部门名称",trigger:"blur"}]});w(()=>{e.value.id!==""&&v()});function v(){n.value=!0,r.get("pages_example/department/detail",{baseURL:"/mock/",params:{id:e.value.id}}).then(l=>{n.value=!1,e.value.title=l.data.title})}return c({submit(){return new Promise(l=>{e.value.id===""?a.value&&a.value.validate(t=>{t&&r.post("pages_example/department/create",e.value,{baseURL:"/mock/"}).then(()=>{m.success({message:"模拟新增成功",center:!0}),l()})}):a.value&&a.value.validate(t=>{t&&r.post("pages_example/department/edit",e.value,{baseURL:"/mock/"}).then(()=>{m.success({message:"模拟编辑成功",center:!0}),l()})})})}}),(l,t)=>{const g=i("el-input"),b=i("el-form-item"),x=i("el-form"),h=U("loading");return V((B(),C("div",null,[u(x,{ref_key:"formRef",ref:a,model:s(e),rules:s(_),"label-width":"120px","label-suffix":"："},{default:d(()=>[u(b,{label:"部门",prop:"title"},{default:d(()=>[u(g,{modelValue:s(e).title,"onUpdate:modelValue":t[0]||(t[0]=k=>s(e).title=k),placeholder:"请输入部门名称"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])),[[h,s(n)]])}}});export{L as _};
