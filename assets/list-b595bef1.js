import{d as P,a as ae,bZ as oe,y as le,r as ne,B as se,P as L,b5 as ie,aa as S,e as i,a2 as re,o as p,f as de,g as t,w as a,h as c,l as r,i as o,L as f,O as v,k as ue,j as _e,J as pe,b_ as ce,E as me,S as fe,_ as ge,R as be,p as he,n as ve,q as ye,x as E}from"./index-17000ae8.js";import{_ as Ce}from"./index-bc97356d.js";import{_ as Me}from"./index.vue_vue_type_script_setup_true_lang-da000485.js";import{u as xe}from"./usePagination-e0d8e4d1.js";import"./index.vue_vue_type_script_setup_true_lang-34ec7a7c.js";const C=g=>(he("data-v-0ba7b13b"),g=g(),ve(),g),ze=C(()=>c("p",null,"同时，标准模块还提供了两个优秀的特性：",-1)),ke={style:{display:"flex","align-items":"center"}},Ve=C(()=>c("span",{style:{"margin-right":"20px"}},"特性1：列表展示模式",-1)),we={style:{display:"flex","align-items":"center","margin-bottom":"0"}},Le=C(()=>c("span",{style:{"margin-right":"20px"}},"特性2：表单展示模式",-1)),Se=P({name:"PagesExampleFormModeList"}),B=P({...Se,setup(g){const M=ae(),{pagination:_,getParams:D,onSizeChange:$,onCurrentChange:U,onSortChange:R}=xe(),x=oe(),b=le(),e=ne({loading:!1,tableAutoHeight:!1,formMode:"router",formModeProps:{visible:!1,id:""},search:{title:""},batch:{enable:!0,selectionDataList:[]},dataList:[]});se(()=>{d(),e.value.formMode==="router"&&L.on("get-data-list",()=>{d()})}),ie(()=>{e.value.formMode==="router"&&L.off("get-data-list")});function d(){e.value.loading=!0;const n=D();e.value.search.title&&(n.title=e.value.search.title),S.get("pages_example/form_mode/list",{baseURL:"/mock/",params:n}).then(l=>{e.value.loading=!1,e.value.dataList=l.data.list,_.value.total=l.data.total})}function A(n){$(n).then(()=>d())}function h(n=1){U(n).then(()=>d())}function H({prop:n,order:l}){R(n,l).then(()=>d())}function I(){e.value.formMode==="router"?b.settings.tabbar.enable&&b.settings.tabbar.mergeTabsBy!=="activeMenu"?x.open({name:"standardModuleExampleCreate"}):M.push({name:"standardModuleExampleCreate"}):(e.value.formModeProps.id="",e.value.formModeProps.visible=!0)}function N(n){e.value.formMode==="router"?b.settings.tabbar.enable&&b.settings.tabbar.mergeTabsBy!=="activeMenu"?x.open({name:"standardModuleExampleEdit",params:{id:n.id}}):M.push({name:"standardModuleExampleEdit",params:{id:n.id}}):(e.value.formModeProps.id=n.id,e.value.formModeProps.visible=!0)}function T(n){ce.confirm(`确认删除「${n.title}」吗？`,"确认信息").then(()=>{S.post("pages_example/form_mode/delete",{id:n.id},{baseURL:"/mock/"}).then(()=>{d(),me.success({message:"模拟删除成功",center:!0})})}).catch(()=>{})}return(n,l)=>{const K=i("el-tag"),m=i("el-radio-button"),z=i("el-radio-group"),j=fe,k=ge,V=i("el-icon"),u=i("el-button"),q=i("el-button-group"),F=i("el-space"),J=i("el-input"),w=i("el-form-item"),O=i("el-col"),Z=i("el-row"),G=i("el-form"),Q=Ce,y=i("el-table-column"),W=i("el-table"),X=i("el-pagination"),Y=be,ee=re("loading");return p(),de("div",{class:pe({"absolute-container":o(e).tableAutoHeight})},[t(j,{title:"标准模块"},{content:a(()=>[c("p",null,[r("标准模块即包含 CRUD (增查改删) 操作的基础模块，开发者可通过 "),t(K,null,{default:a(()=>[r("pnpm run new")]),_:1}),r(" 命令快速生成一个标准模块，并在此基础上完善业务模块所需要的功能。")]),ze,c("p",ke,[Ve,t(z,{modelValue:o(e).tableAutoHeight,"onUpdate:modelValue":l[0]||(l[0]=s=>o(e).tableAutoHeight=s),size:"default"},{default:a(()=>[t(m,{label:!1},{default:a(()=>[r(" 默认 ")]),_:1}),t(m,{label:!0},{default:a(()=>[r(" 列表高度自适应 ")]),_:1})]),_:1},8,["modelValue"])]),c("p",we,[Le,t(z,{modelValue:o(e).formMode,"onUpdate:modelValue":l[1]||(l[1]=s=>o(e).formMode=s),size:"default"},{default:a(()=>[t(m,{label:"router"},{default:a(()=>[r(" 路由跳转 ")]),_:1}),t(m,{label:"dialog"},{default:a(()=>[r(" 对话框 ")]),_:1}),t(m,{label:"drawer"},{default:a(()=>[r(" 抽屉 ")]),_:1})]),_:1},8,["modelValue"])])]),_:1}),t(Y,null,{default:a(()=>[t(F,{wrap:""},{default:a(()=>[t(u,{type:"primary",size:"default",onClick:I},{icon:a(()=>[t(V,null,{default:a(()=>[t(k,{name:"i-ep:plus"})]),_:1})]),default:a(()=>[r(" 新增 ")]),_:1}),o(e).batch.enable?(p(),f(u,{key:0,size:"default",disabled:!o(e).batch.selectionDataList.length},{default:a(()=>[r(" 单个批量操作按钮 ")]),_:1},8,["disabled"])):v("",!0),o(e).batch.enable?(p(),f(q,{key:1},{default:a(()=>[t(u,{size:"default",disabled:!o(e).batch.selectionDataList.length},{default:a(()=>[r(" 批量操作按钮组1 ")]),_:1},8,["disabled"]),t(u,{size:"default",disabled:!o(e).batch.selectionDataList.length},{default:a(()=>[r(" 批量操作按钮组2 ")]),_:1},8,["disabled"])]),_:1})):v("",!0)]),_:1}),t(Q,null,{default:a(()=>[t(G,{model:o(e).search,size:"default","label-width":"100px","label-suffix":"："},{default:a(()=>[t(Z,null,{default:a(()=>[t(O,{span:12},{default:a(()=>[t(w,{label:"标题"},{default:a(()=>[t(J,{modelValue:o(e).search.title,"onUpdate:modelValue":l[2]||(l[2]=s=>o(e).search.title=s),placeholder:"请输入标题，支持模糊查询",clearable:"",onKeydown:l[3]||(l[3]=ue(s=>h(),["enter"])),onClear:l[4]||(l[4]=s=>h())},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(w,null,{default:a(()=>[t(u,{type:"primary",onClick:l[5]||(l[5]=s=>h())},{icon:a(()=>[t(V,null,{default:a(()=>[t(k,{name:"i-ep:search"})]),_:1})]),default:a(()=>[r(" 筛选 ")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),_e((p(),f(W,{class:"list-table",data:o(e).dataList,border:"",stripe:"","highlight-current-row":"",height:"100%",onSortChange:H,onSelectionChange:l[6]||(l[6]=s=>o(e).batch.selectionDataList=s)},{default:a(()=>[o(e).batch.enable?(p(),f(y,{key:0,type:"selection",align:"center",fixed:""})):v("",!0),t(y,{prop:"title",label:"标题"}),t(y,{label:"操作",width:"250",align:"center",fixed:"right"},{default:a(s=>[t(u,{type:"primary",size:"small",plain:"",onClick:te=>N(s.row)},{default:a(()=>[r(" 编辑 ")]),_:2},1032,["onClick"]),t(u,{type:"danger",size:"small",plain:"",onClick:te=>T(s.row)},{default:a(()=>[r(" 删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[ee,o(e).loading]]),t(X,{"current-page":o(_).page,total:o(_).total,"page-size":o(_).size,"page-sizes":o(_).sizes,layout:o(_).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:A,onCurrentChange:h},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1}),["dialog","drawer"].includes(o(e).formMode)?(p(),f(Me,{key:0,id:o(e).formModeProps.id,modelValue:o(e).formModeProps.visible,"onUpdate:modelValue":l[7]||(l[7]=s=>o(e).formModeProps.visible=s),mode:o(e).formMode,onSuccess:d},null,8,["id","modelValue","mode"])):v("",!0)],2)}}});typeof E=="function"&&E(B);const Ue=ye(B,[["__scopeId","data-v-0ba7b13b"]]);export{Ue as default};
