import{_ as c}from"./index.vue_vue_type_script_setup_true_lang-34ec7a7c.js";import{d as z,r as B,G as k,e as f,o as p,f as R,L as C,w as e,g as t,l as s,b1 as b,i as r,V as v,O as N}from"./index-17000ae8.js";const E=z({__name:"index",props:{...c.props,modelValue:{type:Boolean,default:!1},mode:{type:String,default:"dialog",validator:d=>["dialog","drawer"].includes(d)}},emits:["update:modelValue","success"],setup(d,{emit:_}){const l=d,u=B(),o=k({get(){return l.modelValue},set(g){_("update:modelValue",g)}}),V=k(()=>l.id===""?"新增":"编辑");function y(){u.value.submit().then(()=>{_("success"),i()})}function i(){o.value=!1}return(g,a)=>{const n=f("el-button"),w=f("el-dialog"),x=f("el-drawer");return p(),R("div",null,[l.mode==="dialog"?(p(),C(w,{key:0,modelValue:r(o),"onUpdate:modelValue":a[0]||(a[0]=m=>v(o)?o.value=m:null),title:r(V),width:"600px","close-on-click-modal":!1,"append-to-body":"","destroy-on-close":""},{footer:e(()=>[t(n,{size:"large",onClick:i},{default:e(()=>[s(" 取消 ")]),_:1}),t(n,{type:"primary",size:"large",onClick:y},{default:e(()=>[s(" 确定 ")]),_:1})]),default:e(()=>[t(c,b({ref_key:"formRef",ref:u},l),null,16)]),_:1},8,["modelValue","title"])):l.mode==="drawer"?(p(),C(x,{key:1,modelValue:r(o),"onUpdate:modelValue":a[1]||(a[1]=m=>v(o)?o.value=m:null),title:r(V),size:"600px","close-on-click-modal":!1,"destroy-on-close":""},{footer:e(()=>[t(n,{size:"large",onClick:i},{default:e(()=>[s(" 取消 ")]),_:1}),t(n,{type:"primary",size:"large",onClick:y},{default:e(()=>[s(" 确定 ")]),_:1})]),default:e(()=>[t(c,b({ref_key:"formRef",ref:u},l),null,16)]),_:1},8,["modelValue","title"])):N("",!0)])}}});export{E as _};
