import{_ as le}from"./index-a391b149.js";import{_ as oe}from"./index.vue_vue_type_script_setup_true_name_I18nSelector_lang-4607c1fd.js";import{d as K,u as te,a as ae,b as se,c as ne,r as d,s as x,e as f,o as re,f as ie,g as e,w as l,h as s,i as o,j as $,v as S,t as y,k as de,l as r,m as z,_ as ue,p as pe,n as ce,E,q as me,x as B}from"./index-17000ae8.js";import _e from"./login-switcher-5639468b.js";const k=V=>(pe("data-v-450d5841"),V=V(),ce(),V),fe={id:"login-box"},ge={class:"login-banner"},ve=k(()=>s("div",{class:"logo"},null,-1)),we=["src"],he={class:"title-container"},be={class:"title"},xe={class:"flex-bar"},ye={class:"sub-link"},ke=k(()=>s("span",{class:"text"},"è¿˜æ²¡æœ‰å¸å·?",-1)),Ve={style:{"margin-top":"20px","margin-bottom":"-20px","text-align":"center"}},Ce=k(()=>s("div",{class:"title-container"},[s("h3",{class:"title"}," æŽ¢ç´¢ä»Žè¿™é‡Œå¼€å§‹! ðŸš€ ")],-1)),Re={class:"sub-link"},Ue=k(()=>s("span",{class:"text"},"å·²ç»æœ‰å¸å·?",-1)),qe=k(()=>s("div",{class:"title-container"},[s("h3",{class:"title"}," å¿˜è®°å¯†ç äº†? ðŸ”’ ")],-1)),Pe={class:"sub-link"},Fe=K({name:"Login"}),N=K({...Fe,setup(V){var L;const D=te(),M=ae(),T=se(),{t:c}=ne(),j=new URL(""+new URL("login-banner-a565fac8.png",import.meta.url).href,self.location).href,A="Fantastic-admin ä¸“ä¸šç‰ˆ",g=d("login"),b=d(!1),G=d(((L=D.query.redirect)==null?void 0:L.toString())??"/"),R=d(),i=d({account:x.local.get("login_account")||"",password:"",remember:x.local.has("login_account")}),H=d({account:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥ç”¨æˆ·å"}],password:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥å¯†ç "},{min:6,max:18,trigger:"blur",message:"å¯†ç é•¿åº¦ä¸º6åˆ°18ä½"}]});function U(){R.value&&R.value.validate(w=>{w&&(b.value=!0,T.login(i.value).then(()=>{b.value=!1,i.value.remember?x.local.set("login_account",i.value.account):x.local.remove("login_account"),M.push(G.value)}).catch(()=>{b.value=!1}))})}const q=d(),u=d({account:"",captcha:"",password:"",checkPassword:""}),J=d({account:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥ç”¨æˆ·å"}],captcha:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥éªŒè¯ç "}],password:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥å¯†ç "},{min:6,max:18,trigger:"blur",message:"å¯†ç é•¿åº¦ä¸º6åˆ°18ä½"}],checkPassword:[{required:!0,trigger:"blur",message:"è¯·å†æ¬¡è¾“å…¥å¯†ç "},{validator:(w,t,n)=>{t!==u.value.password?n(new Error("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´")):n()}}]});function O(){E({message:"æ³¨å†Œæ¨¡å—ä»…æä¾›ç•Œé¢æ¼”ç¤ºï¼Œæ— å®žé™…åŠŸèƒ½ï¼Œéœ€å¼€å‘è€…è‡ªè¡Œæ‰©å±•",type:"warning"}),q.value&&q.value.validate(w=>{})}const P=d(),v=d({account:x.local.get("login_account"),captcha:"",newPassword:""}),Q=d({account:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥ç”¨æˆ·å"}],captcha:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥éªŒè¯ç "}],newPassword:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥æ–°å¯†ç "},{min:6,max:18,trigger:"blur",message:"å¯†ç é•¿åº¦ä¸º6åˆ°18ä½"}]});function W(){E({message:"é‡ç½®å¯†ç ä»…æä¾›ç•Œé¢æ¼”ç¤ºï¼Œæ— å®žé™…åŠŸèƒ½ï¼Œéœ€å¼€å‘è€…è‡ªè¡Œæ‰©å±•",type:"info"}),P.value&&P.value.validate(w=>{})}function I(w){i.value.account=w,i.value.password="123456",U()}return(w,t)=>{const n=ue,p=f("el-icon"),X=oe,m=f("el-input"),_=f("el-form-item"),Y=f("el-checkbox"),C=f("el-link"),h=f("el-button"),Z=f("el-divider"),F=f("el-form"),ee=le;return re(),ie("div",null,[e(X,{class:"i18n-selector"},{default:l(()=>[e(p,null,{default:l(()=>[e(n,{name:"i-ri:translate"})]),_:1})]),_:1}),s("div",fe,[s("div",ge,[ve,s("img",{src:o(j),class:"banner"},null,8,we)]),$(e(F,{ref_key:"loginFormRef",ref:R,model:o(i),rules:o(H),class:"login-form"},{default:l(()=>[s("div",he,[s("h3",be," æ¬¢è¿Žæ¥åˆ° "+y(o(A))+" ! ðŸ‘‹ðŸ» ",1)]),s("div",null,[e(_,{prop:"account"},{default:l(()=>[e(m,{modelValue:o(i).account,"onUpdate:modelValue":t[0]||(t[0]=a=>o(i).account=a),placeholder:o(c)("app.account"),type:"text",tabindex:"1"},{prefix:l(()=>[e(p,null,{default:l(()=>[e(n,{name:"i-ri:user-3-fill"})]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1}),e(_,{prop:"password"},{default:l(()=>[e(m,{modelValue:o(i).password,"onUpdate:modelValue":t[1]||(t[1]=a=>o(i).password=a),type:"password",placeholder:o(c)("app.password"),tabindex:"2",autocomplete:"new-password","show-password":"",onKeyup:de(U,["enter"])},{prefix:l(()=>[e(p,null,{default:l(()=>[e(n,{name:"i-ri:lock-2-fill"})]),_:1})]),_:1},8,["modelValue","placeholder","onKeyup"])]),_:1})]),s("div",xe,[e(Y,{modelValue:o(i).remember,"onUpdate:modelValue":t[2]||(t[2]=a=>o(i).remember=a)},{default:l(()=>[r(" è®°ä½æˆ‘ ")]),_:1},8,["modelValue"]),e(C,{type:"primary",underline:!1,onClick:t[3]||(t[3]=a=>g.value="reset")},{default:l(()=>[r(" å¿˜è®°å¯†ç äº†? ")]),_:1})]),e(h,{loading:o(b),type:"primary",size:"large",style:{width:"100%"},onClick:z(U,["prevent"])},{default:l(()=>[r(y(o(c)("app.login")),1)]),_:1},8,["loading","onClick"]),s("div",ye,[ke,e(C,{type:"primary",underline:!1,onClick:t[4]||(t[4]=a=>g.value="register")},{default:l(()=>[r(" åˆ›å»ºæ–°å¸å· ")]),_:1})]),s("div",Ve,[e(Z,null,{default:l(()=>[r("æ¼”ç¤ºè´¦å·ä¸€é”®ç™»å½•")]),_:1}),e(h,{type:"primary",size:"small",plain:"",onClick:t[5]||(t[5]=a=>I("admin"))},{default:l(()=>[r(" admin ")]),_:1}),e(h,{size:"small",plain:"",onClick:t[6]||(t[6]=a=>I("test"))},{default:l(()=>[r(" test ")]),_:1})])]),_:1},8,["model","rules"]),[[S,o(g)==="login"]]),$(e(F,{ref_key:"registerFormRef",ref:q,model:o(u),rules:o(J),class:"login-form","auto-complete":"on"},{default:l(()=>[Ce,s("div",null,[e(_,{prop:"account"},{default:l(()=>[e(m,{modelValue:o(u).account,"onUpdate:modelValue":t[7]||(t[7]=a=>o(u).account=a),placeholder:"ç”¨æˆ·å",tabindex:"1"},{prefix:l(()=>[e(p,null,{default:l(()=>[e(n,{name:"i-ri:user-3-fill"})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(_,{prop:"captcha"},{default:l(()=>[e(m,{modelValue:o(u).captcha,"onUpdate:modelValue":t[8]||(t[8]=a=>o(u).captcha=a),placeholder:"éªŒè¯ç ",tabindex:"2"},{prefix:l(()=>[e(p,null,{default:l(()=>[e(n,{name:"i-ic:baseline-verified-user"})]),_:1})]),append:l(()=>[e(h,null,{default:l(()=>[r("å‘é€éªŒè¯ç ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(_,{prop:"password"},{default:l(()=>[e(m,{modelValue:o(u).password,"onUpdate:modelValue":t[9]||(t[9]=a=>o(u).password=a),type:"password",placeholder:"å¯†ç ",tabindex:"3","show-password":""},{prefix:l(()=>[e(p,null,{default:l(()=>[e(n,{name:"i-ri:lock-2-fill"})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(_,{prop:"checkPassword"},{default:l(()=>[e(m,{modelValue:o(u).checkPassword,"onUpdate:modelValue":t[10]||(t[10]=a=>o(u).checkPassword=a),type:"password",placeholder:"ç¡®è®¤å¯†ç ",tabindex:"4","show-password":""},{prefix:l(()=>[e(p,null,{default:l(()=>[e(n,{name:"i-ri:lock-2-fill"})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),e(h,{loading:o(b),type:"primary",size:"large",style:{width:"100%","margin-top":"20px"},onClick:z(O,["prevent"])},{default:l(()=>[r(" æ³¨å†Œ ")]),_:1},8,["loading","onClick"]),s("div",Re,[Ue,e(C,{type:"primary",underline:!1,onClick:t[11]||(t[11]=a=>g.value="login")},{default:l(()=>[r(" åŽ»ç™»å½• ")]),_:1})])]),_:1},8,["model","rules"]),[[S,o(g)==="register"]]),$(e(F,{ref_key:"resetFormRef",ref:P,model:o(v),rules:o(Q),class:"login-form"},{default:l(()=>[qe,s("div",null,[e(_,{prop:"account"},{default:l(()=>[e(m,{modelValue:o(v).account,"onUpdate:modelValue":t[12]||(t[12]=a=>o(v).account=a),placeholder:o(c)("app.account"),type:"text",tabindex:"1"},{prefix:l(()=>[e(p,null,{default:l(()=>[e(n,{name:"i-ri:user-3-fill"})]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1}),e(_,{prop:"captcha"},{default:l(()=>[e(m,{modelValue:o(v).captcha,"onUpdate:modelValue":t[13]||(t[13]=a=>o(v).captcha=a),placeholder:o(c)("app.captcha"),type:"text",tabindex:"2"},{prefix:l(()=>[e(p,null,{default:l(()=>[e(n,{name:"i-ic:baseline-verified-user"})]),_:1})]),append:l(()=>[e(h,null,{default:l(()=>[r(y(o(c)("app.sendCaptcha")),1)]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1}),e(_,{prop:"newPassword"},{default:l(()=>[e(m,{modelValue:o(v).newPassword,"onUpdate:modelValue":t[14]||(t[14]=a=>o(v).newPassword=a),type:"password",placeholder:o(c)("app.newPassword"),tabindex:"3","show-password":""},{prefix:l(()=>[e(p,null,{default:l(()=>[e(n,{name:"i-ri:lock-2-fill"})]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1})]),e(h,{loading:o(b),type:"primary",size:"large",style:{width:"100%","margin-top":"20px"},onClick:z(W,["prevent"])},{default:l(()=>[r(y(o(c)("app.check")),1)]),_:1},8,["loading","onClick"]),s("div",Pe,[e(C,{type:"primary",underline:!1,onClick:t[15]||(t[15]=a=>g.value="login")},{default:l(()=>[r(y(o(c)("app.goLogin")),1)]),_:1})])]),_:1},8,["model","rules"]),[[S,o(g)==="reset"]])]),e(ee),e(_e,{class:"login-switcher"})])}}});typeof B=="function"&&B(N);const Le=me(N,[["__scopeId","data-v-450d5841"]]);export{Le as default};
