import{d as R,r as s,B as w,aa as i,E as u,e as n,a2 as U,j as V,i as o,o as B,f as C,g as m,w as d}from"./index-17000ae8.js";const L=R({__name:"index",props:{id:{type:[Number,String],default:""}},setup(f,{expose:c}){const p=f,r=s(!1),a=s(),e=s({id:p.id,title:""}),_=s({title:[{required:!0,message:"请输入标题",trigger:"blur"}]});w(()=>{e.value.id!==""&&v()});function v(){r.value=!0,i.get("pages_example/form_mode/detail",{baseURL:"/mock/",params:{id:e.value.id}}).then(l=>{r.value=!1,e.value.title=l.data.title})}return c({submit(){return new Promise(l=>{e.value.id===""?a.value&&a.value.validate(t=>{t&&i.post("pages_example/form_mode/create",e.value,{baseURL:"/mock/"}).then(()=>{u.success({message:"模拟新增成功",center:!0}),l()})}):a.value&&a.value.validate(t=>{t&&i.post("pages_example/form_mode/edit",e.value,{baseURL:"/mock/"}).then(()=>{u.success({message:"模拟编辑成功",center:!0}),l()})})})}}),(l,t)=>{const g=n("el-input"),b=n("el-form-item"),x=n("el-form"),h=U("loading");return V((B(),C("div",null,[m(x,{ref_key:"formRef",ref:a,model:o(e),rules:o(_),"label-width":"120px","label-suffix":"："},{default:d(()=>[m(b,{label:"标题",prop:"title"},{default:d(()=>[m(g,{modelValue:o(e).title,"onUpdate:modelValue":t[0]||(t[0]=k=>o(e).title=k),placeholder:"请输入标题"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])),[[h,o(r)]])}}});export{L as _};
