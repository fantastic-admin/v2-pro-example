import{_ as C}from"./index.vue_vue_type_script_setup_true_name_PcasCascader_lang-bb8b02e4.js";import E from"./index-30de37a4.js";import{d as L,r as f,B as j,aa as V,E as y,e as n,a2 as q,j as F,i as a,o as I,f as M,g as t,w as l,l as s,h as S,t as c,q as O}from"./index-17000ae8.js";const P={class:"freight"},T=L({__name:"index",props:{id:{type:[Number,String],default:""}},setup(x,{expose:U}){const k=x,v=f(!1),u=f(),e=f({id:k.id,title:"",address:[],type:1,status:!0,first_step:"",first_price:"",continued_step:"",continued_price:"",infos:[]}),w=f({title:[{required:!0,message:"请输入标题",trigger:"blur"}]});j(()=>{e.value.id!==""&&R()});function R(){v.value=!0,V.get("pages_example/delivery/detail",{baseURL:"/mock/",params:{id:e.value.id}}).then(r=>{v.value=!1,Object.assign(e.value,r.data)})}return U({submit(){return new Promise(r=>{e.value.id===""?u.value&&u.value.validate(o=>{o&&V.post("pages_example/delivery/create",e.value,{baseURL:"/mock/"}).then(()=>{y.success({message:"模拟新增成功",center:!0}),r()})}):u.value&&u.value.validate(o=>{o&&V.post("pages_example/delivery/edit",e.value,{baseURL:"/mock/"}).then(()=>{y.success({message:"模拟编辑成功",center:!0}),r()})})})}}),(r,o)=>{const p=n("el-input"),i=n("el-form-item"),z=C,_=n("el-radio-button"),g=n("el-radio-group"),m=n("el-col"),b=n("el-row"),B=n("el-card"),D=n("el-form"),N=q("loading");return F((I(),M("div",null,[t(D,{ref_key:"formRef",ref:u,model:a(e),rules:a(w),"label-width":"120px","label-suffix":"："},{default:l(()=>[t(i,{label:"名称",prop:"title"},{default:l(()=>[t(p,{modelValue:a(e).title,"onUpdate:modelValue":o[0]||(o[0]=d=>a(e).title=d),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),t(i,{label:"发货地址",prop:"address"},{default:l(()=>[t(z,{modelValue:a(e).address,"onUpdate:modelValue":o[1]||(o[1]=d=>a(e).address=d),format:"name"},null,8,["modelValue"])]),_:1}),t(i,{label:"计价方式"},{default:l(()=>[t(g,{modelValue:a(e).type,"onUpdate:modelValue":o[2]||(o[2]=d=>a(e).type=d)},{default:l(()=>[t(_,{label:1},{default:l(()=>[s(" 按件数 ")]),_:1}),t(_,{label:2},{default:l(()=>[s(" 按重量 ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(i,{label:"运费模版"},{default:l(()=>[S("div",P,[t(B,{shadow:"never"},{header:l(()=>[s(" 默认运费 ")]),default:l(()=>[t(b,{gutter:20},{default:l(()=>[t(m,{md:6},{default:l(()=>[t(p,{modelValue:a(e).first_step,"onUpdate:modelValue":o[3]||(o[3]=d=>a(e).first_step=d),size:"small"},{prepend:l(()=>[s(c(a(e).type===1?"首件":"首重"),1)]),append:l(()=>[s(c(a(e).type===1?"件":"kg"),1)]),_:1},8,["modelValue"])]),_:1}),t(m,{md:6},{default:l(()=>[t(p,{modelValue:a(e).first_price,"onUpdate:modelValue":o[4]||(o[4]=d=>a(e).first_price=d),size:"small"},{prepend:l(()=>[s(" 首费 ")]),append:l(()=>[s(" 元 ")]),_:1},8,["modelValue"])]),_:1}),t(m,{md:6},{default:l(()=>[t(p,{modelValue:a(e).continued_step,"onUpdate:modelValue":o[5]||(o[5]=d=>a(e).continued_step=d),size:"small"},{prepend:l(()=>[s(c(a(e).type===1?"续件":"续重"),1)]),append:l(()=>[s(c(a(e).type===1?"件":"kg"),1)]),_:1},8,["modelValue"])]),_:1}),t(m,{md:6},{default:l(()=>[t(p,{modelValue:a(e).continued_price,"onUpdate:modelValue":o[6]||(o[6]=d=>a(e).continued_price=d),size:"small"},{prepend:l(()=>[s(" 续费 ")]),append:l(()=>[s(" 元 ")]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(b,null,{default:l(()=>[t(m,{span:24},{default:l(()=>[t(E,{data:a(e).infos,type:a(e).type},null,8,["data","type"])]),_:1})]),_:1})])]),_:1}),t(i,{label:"是否启用"},{default:l(()=>[t(g,{modelValue:a(e).status,"onUpdate:modelValue":o[7]||(o[7]=d=>a(e).status=d)},{default:l(()=>[t(_,{label:!0},{default:l(()=>[s(" 启用 ")]),_:1}),t(_,{label:!1},{default:l(()=>[s(" 停用 ")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])),[[N,a(v)]])}}});const H=O(T,[["__scopeId","data-v-61d83075"]]);export{H as default};
