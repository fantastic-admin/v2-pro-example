import{d as R,r as s,B as w,aa as i,E as m,e as n,a2 as j,j as U,i as o,o as V,f as y,g as u,w as p}from"./index-17000ae8.js";const C=R({__name:"index",props:{id:{type:[Number,String],default:""},departmentId:{type:[Number,String],default:""}},setup(c,{expose:f}){const d=c,r=s(!1),a=s(),e=s({id:d.id,department_id:d.departmentId,title:""}),_=s({title:[{required:!0,message:"请输入职位名称",trigger:"blur"}]});w(()=>{e.value.id!==""&&v()});function v(){r.value=!0,i.get("pages_example/job/detail",{baseURL:"/mock/",params:{id:e.value.id,department_id:e.value.department_id}}).then(l=>{r.value=!1,e.value.title=l.data.title})}return f({submit(){return new Promise(l=>{e.value.id===""?a.value&&a.value.validate(t=>{t&&i.post("pages_example/job/create",e.value,{baseURL:"/mock/"}).then(()=>{m.success({message:"模拟新增成功",center:!0}),l()})}):a.value&&a.value.validate(t=>{t&&i.post("pages_example/job/edit",e.value,{baseURL:"/mock/"}).then(()=>{m.success({message:"模拟编辑成功",center:!0}),l()})})})}}),(l,t)=>{const g=n("el-input"),b=n("el-form-item"),x=n("el-form"),h=j("loading");return U((V(),y("div",null,[u(x,{ref_key:"formRef",ref:a,model:o(e),rules:o(_),"label-width":"120px","label-suffix":"："},{default:p(()=>[u(b,{label:"职位",prop:"title"},{default:p(()=>[u(g,{modelValue:o(e).title,"onUpdate:modelValue":t[0]||(t[0]=k=>o(e).title=k),placeholder:"请输入职位名称"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])),[[h,o(r)]])}}});export{C as _};
