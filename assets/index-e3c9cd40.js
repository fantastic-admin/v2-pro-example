import{d as b,o as i,f as r,X as y,cb as S,a as X,y as q,b as z,e as f,a2 as E,g as s,w as e,i as v,l as o,h as t,t as F,j as g,E as w,S as G,R as H,x as B}from"./index-17000ae8.js";import{u as I}from"./useMainPage-b6113823.js";const J=b({name:"AuthAll"}),K=b({...J,props:{value:null},setup(h){const p=h;function c(){return S().authAll(p.value)}return(a,k)=>(i(),r("div",null,[c()?y(a.$slots,"default",{key:0}):y(a.$slots,"no-auth",{key:1})]))}}),L=b({name:"Auth"}),O=b({...L,props:{value:null},setup(h){const p=h;function c(){return S().auth(p.value)}return(a,k)=>(i(),r("div",null,[c()?y(a.$slots,"default",{key:0}):y(a.$slots,"no-auth",{key:1})]))}}),Q={key:0},W={key:1},Y=t("h3",null,"切换帐号",-1),Z=t("h3",null,"帐号权限",-1),ee=t("h3",null,"访问鉴权页面",-1),se=t("h3",null,"鉴权组件（请对照代码查看）",-1),oe=t("h3",null,"鉴权指令（请对照代码查看）",-1),te=t("h3",null,"鉴权函数（请对照代码查看）",-1),ne=b({__name:"index",setup(h){const p=X(),{auth:c,authAll:a}=S(),k=q(),_=z();async function D(u){await _.login({account:u,password:""}),await _.getPermissions(),I().reload()}function N(){p.push({name:"permissionExampleTest"})}function C(u){c(u)?w.success("校验通过"):w.error("校验不通过")}function P(u){a(u)?w.success("校验通过"):w.error("校验不通过")}return(u,n)=>{const T=G,$=f("el-radio-button"),j=f("el-radio-group"),m=f("el-button"),l=f("el-tag"),x=O,M=K,V=f("el-button-group"),R=H,A=E("auth"),U=E("auth-all");return i(),r("div",null,[s(T,{title:"权限验证"}),s(R,null,{default:e(()=>[v(k).settings.app.enablePermission?(i(),r("div",W,[Y,s(j,{modelValue:v(_).account,"onUpdate:modelValue":n[0]||(n[0]=d=>v(_).account=d),onChange:D},{default:e(()=>[s($,{label:"admin"}),s($,{label:"test"}),s($,{label:"hooray"},{default:e(()=>[o(" hooray(无权限) ")]),_:1})]),_:1},8,["modelValue"]),Z,t("div",null,F(v(_).permissions),1),ee,t("div",null,[s(m,{onClick:N},{default:e(()=>[o(" 点击访问 ")]),_:1})]),se,t("div",null,[s(x,{value:"permission.browse",style:{"margin-bottom":"10px"}},{"no-auth":e(()=>[s(l,{type:"danger"},{default:e(()=>[o(" 你没有 permission.browse 权限 ")]),_:1})]),default:e(()=>[s(l,null,{default:e(()=>[o("你有 permission.browse 权限")]),_:1})]),_:1}),s(x,{value:"permission.create",style:{"margin-bottom":"10px"}},{"no-auth":e(()=>[s(l,{type:"danger"},{default:e(()=>[o(" 你没有 permission.create 权限 ")]),_:1})]),default:e(()=>[s(l,null,{default:e(()=>[o("你有 permission.create 权限")]),_:1})]),_:1}),s(x,{value:["permission.browse","permission.create"],style:{"margin-bottom":"10px"}},{"no-auth":e(()=>[s(l,{type:"danger"},{default:e(()=>[o(" 你没有 permission.browse 或 permission.create 权限 ")]),_:1})]),default:e(()=>[s(l,null,{default:e(()=>[o("你有 permission.browse 或 permission.create 权限")]),_:1})]),_:1},8,["value"]),s(M,{value:["permission.browse","permission.create"]},{"no-auth":e(()=>[s(l,{type:"danger"},{default:e(()=>[o(" 你没有 permission.browse 和 permission.create 权限 ")]),_:1})]),default:e(()=>[s(l,null,{default:e(()=>[o("你有 permission.browse 和 permission.create 权限")]),_:1})]),_:1},8,["value"])]),oe,t("div",null,[g((i(),r("div",null,[o(" 如果你有 permission.browse 权限则能看到这句话 ")])),[[A,"permission.browse"]]),g((i(),r("div",null,[o(" 如果你有 permission.create 权限则能看到这句话 ")])),[[A,"permission.create"]]),g((i(),r("div",null,[o(" 如果你有 permission.browse 或 permission.create 权限则能看到这句话 ")])),[[A,["permission.browse","permission.create"]]]),g((i(),r("div",null,[o(" 如果你有 permission.browse 和 permission.create 权限则能看到这句话 ")])),[[U,["permission.browse","permission.create"]]])]),te,t("div",null,[s(V,{style:{display:"block","margin-bottom":"10px"}},{default:e(()=>[s(m,{onClick:n[1]||(n[1]=d=>C("permission.browse"))},{default:e(()=>[o(" 校验 permission.browse 权限 ")]),_:1}),s(m,{onClick:n[2]||(n[2]=d=>C("permission.create"))},{default:e(()=>[o(" 校验 permission.create 权限 ")]),_:1})]),_:1}),s(V,null,{default:e(()=>[s(m,{onClick:n[3]||(n[3]=d=>C(["permission.browse","permission.create"]))},{default:e(()=>[o(" 校验 permission.browse 或 permission.create 权限 ")]),_:1}),s(m,{onClick:n[4]||(n[4]=d=>P(["permission.browse","permission.create"]))},{default:e(()=>[o(" 校验 permission.browse 和 permission.create 权限 ")]),_:1})]),_:1})])])):(i(),r("div",Q," 请到 seeting.js 里打开权限功能，再进入该页面查看演示 "))]),_:1})])}}});typeof B=="function"&&B(ne);export{ne as default};
