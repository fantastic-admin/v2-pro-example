import{d as q,r as c,G as B,B as L,aa as _,e as s,o as h,L as z,w as d,g as t,l as y,i as a,V as E,E as g,q as M}from"./index-17000ae8.js";const N=q({__name:"index",props:{modelValue:{type:Boolean,default:!1},dictionaryId:{default:""},id:{default:""},tree:null},emits:["update:modelValue","success"],setup(v,{emit:p}){const u=v,r=c(u.modelValue),x=B(()=>u.id===""?"新增字典项":"编辑字典项"),i=c(),e=c({dictionaryId:u.dictionaryId,id:u.id,name:"",value:"",enable:!0}),k=c({dictionaryId:[{required:!0,message:"请选择所属字典"}],name:[{required:!0,message:"请输入字典项名称"}],value:[{required:!0,message:"请输入字典项键值"}]});L(()=>{u.id!==""&&_.get("pages_example/dictionary/item/detail",{params:{id:u.id},baseURL:"/mock/"}).then(n=>{e.value.id=n.data.id,e.value.name=n.data.name,e.value.value=n.data.value,e.value.enable=n.data.enable})});function I(){e.value.id===""?i.value&&i.value.validate(n=>{n&&_.post("pages_example/dictionary/item/create",e.value,{baseURL:"/mock/"}).then(()=>{g.success({message:"模拟新增成功",center:!0}),p("success"),f()})}):i.value&&i.value.validate(n=>{n&&_.post("pages_example/dictionary/item/edit",e.value,{baseURL:"/mock/"}).then(()=>{g.success({message:"模拟编辑成功",center:!0}),p("success"),f()})})}function f(){r.value=!1}return(n,l)=>{const U=s("el-cascader"),m=s("el-form-item"),b=s("el-input"),w=s("el-switch"),C=s("el-form"),V=s("el-button"),R=s("el-dialog");return h(),z(R,{modelValue:a(r),"onUpdate:modelValue":l[4]||(l[4]=o=>E(r)?r.value=o:null),title:a(x),width:"400px","close-on-click-modal":!1,"append-to-body":"","destroy-on-close":"",onClosed:l[5]||(l[5]=o=>p("update:modelValue",!1))},{footer:d(()=>[t(V,{size:"large",onClick:f},{default:d(()=>[y(" 取消 ")]),_:1}),t(V,{type:"primary",size:"large",onClick:I},{default:d(()=>[y(" 确定 ")]),_:1})]),default:d(()=>[t(C,{ref_key:"formRef",ref:i,model:a(e),rules:a(k),"label-width":"100px"},{default:d(()=>[t(m,{label:"所属字典",prop:"dictionaryId"},{default:d(()=>[t(U,{modelValue:a(e).dictionaryId,"onUpdate:modelValue":l[0]||(l[0]=o=>a(e).dictionaryId=o),options:v.tree,props:{value:"id",emitPath:!1,checkStrictly:!0},"show-all-levels":!1,placeholder:"请选择所属字典"},null,8,["modelValue","options"])]),_:1}),t(m,{label:"字典项名称",prop:"name"},{default:d(()=>[t(b,{modelValue:a(e).name,"onUpdate:modelValue":l[1]||(l[1]=o=>a(e).name=o),placeholder:"请输入字典项名称",clearable:""},null,8,["modelValue"])]),_:1}),t(m,{label:"字典项键值",prop:"value"},{default:d(()=>[t(b,{modelValue:a(e).value,"onUpdate:modelValue":l[2]||(l[2]=o=>a(e).value=o),placeholder:"请输入字典项键值",clearable:""},null,8,["modelValue"])]),_:1}),t(m,{label:"状态",prop:"enable"},{default:d(()=>[t(w,{modelValue:a(e).enable,"onUpdate:modelValue":l[3]||(l[3]=o=>a(e).enable=o),"inline-prompt":"","active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}});const D=M(N,[["__scopeId","data-v-3a0bc172"]]);export{D as default};
