import{d as A,r as M,e as r,o as l,f,j as F,v as $,L as c,w as t,g as u,l as _,O as k,Q as L,U as C,t as p,i as h,c2 as v,E as Q,p as T,n as G,h as H,q as J}from"./index-17000ae8.js";const K=a=>(T("data-v-bb7eaf1d"),a=a(),G(),a),R={key:0},W={key:0},X={key:0},Y={key:0},Z={key:0},ee=K(()=>H("span",null,null,-1)),te={key:0,style:{padding:"10px"}},le=A({__name:"index",props:{readonly:{type:Boolean,default:!1},data:{type:Array,default:()=>[]},type:{type:Number,default:1}},emits:["update:data"],setup(a,{emit:w}){const m=a,n=M({index:"",visible:!1,checkList:[],disableList:[]});function U(){n.value.index="",n.value.checkList=[],n.value.disableList=S(),n.value.visible=!0}function D(){if(n.value.checkList.length===0)Q({message:"请勾选区域",type:"warning"});else{const o=m.data;n.value.index!==""?o[n.value.index].list=n.value.checkList:o.push({list:n.value.checkList,first_step:"",first_price:"",continued_step:"",continued_price:""}),w("update:data",o),n.value.visible=!1}}function N(o){n.value.index=o,n.value.checkList=m.data[o].list,n.value.disableList=S(o),n.value.visible=!0}function I(o){const s=m.data;s.splice(o,1),w("update:data",s)}function E(o,s){const i=m.data;i[o].list.splice(i[o].list.indexOf(s),1),i[o].list.length===0&&i.splice(o,1),w("update:data",i)}function z(o){let s="";for(const i in v)v[i].code===o&&(s=v[i].name);return s}function S(o){const s=[];for(let i=0;i<m.data.length;i++)o!==i&&s.push(...m.data[i].list);return s}return(o,s)=>{const i=r("el-tag"),V=r("el-col"),b=r("el-button"),B=r("el-row"),y=r("el-table-column"),g=r("el-input"),j=r("el-table"),O=r("el-checkbox"),P=r("el-checkbox-group"),q=r("el-dialog");return l(),f("div",null,[a.readonly&&a.data.length===0?k("",!0):F((l(),c(j,{key:0,data:a.data,border:"",class:"freight"},{empty:t(()=>[ee]),append:t(()=>[a.readonly?k("",!0):(l(),f("div",te,[u(b,{type:"primary",size:"small",plain:"",style:{width:"100%"},onClick:U},{default:t(()=>[_(" 新增一条运费模版 ")]),_:1})]))]),default:t(()=>[u(y,{label:"运送到"},{default:t(e=>[a.readonly?(l(),f("div",R,[(l(!0),f(L,null,C(e.row.list,(d,x)=>(l(),c(i,{key:x,type:"info"},{default:t(()=>[_(p(z(d)),1)]),_:2},1024))),128))])):(l(),c(B,{key:1,type:"flex",align:"middle",justify:"space-between"},{default:t(()=>[u(V,null,{default:t(()=>[(l(!0),f(L,null,C(e.row.list,(d,x)=>(l(),c(i,{key:x,"disable-transitions":!0,type:"info",closable:"",onClose:ae=>E(e.$index,d)},{default:t(()=>[_(p(z(d)),1)]),_:2},1032,["onClose"]))),128))]),_:2},1024),u(V,{style:{width:"100px","text-align":"right"}},{default:t(()=>[u(b,{size:"small",plain:"",onClick:d=>N(e.$index)},{default:t(()=>[_(" 编 辑 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))]),_:1}),u(y,{label:a.type===1?"首件数（件）":"首重量（kg）",width:"150",align:"center"},{default:t(e=>[a.readonly?(l(),f("span",W,p(e.row.first_step),1)):(l(),c(g,{key:1,modelValue:e.row.first_step,"onUpdate:modelValue":d=>e.row.first_step=d,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))]),_:1},8,["label"]),u(y,{label:"首费（元）",width:"150",align:"center"},{default:t(e=>[a.readonly?(l(),f("span",X,p(e.row.first_price),1)):(l(),c(g,{key:1,modelValue:e.row.first_price,"onUpdate:modelValue":d=>e.row.first_price=d,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))]),_:1}),u(y,{label:a.type===1?"续件数（件）":"续重量（kg）",width:"150",align:"center"},{default:t(e=>[a.readonly?(l(),f("span",Y,p(e.row.continued_step),1)):(l(),c(g,{key:1,modelValue:e.row.continued_step,"onUpdate:modelValue":d=>e.row.continued_step=d,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))]),_:1},8,["label"]),u(y,{label:"续费（元）",width:"150",align:"center"},{default:t(e=>[a.readonly?(l(),f("span",Z,p(e.row.continued_price),1)):(l(),c(g,{key:1,modelValue:e.row.continued_price,"onUpdate:modelValue":d=>e.row.continued_price=d,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))]),_:1}),a.readonly?k("",!0):(l(),c(y,{key:0,label:"操作",width:"100",align:"center"},{default:t(e=>[u(b,{type:"danger",size:"small",plain:"",onClick:d=>I(e.$index)},{default:t(()=>[_(" 删 除 ")]),_:2},1032,["onClick"])]),_:1}))]),_:1},8,["data"])),[[$,a.data.length!==0]]),a.readonly?k("",!0):F((l(),c(b,{key:1,type:"primary",size:"default",plain:"",onClick:U},{default:t(()=>[_(" 为指定地区设置运费模版 ")]),_:1},512)),[[$,a.data.length===0]]),u(q,{modelValue:h(n).visible,"onUpdate:modelValue":s[1]||(s[1]=e=>h(n).visible=e),title:"选择地区",width:"800px","append-to-body":""},{footer:t(()=>[u(b,{type:"primary",onClick:D},{default:t(()=>[_(" 确 定 ")]),_:1})]),default:t(()=>[u(P,{modelValue:h(n).checkList,"onUpdate:modelValue":s[0]||(s[0]=e=>h(n).checkList=e),style:{"margin-left":"50px"}},{default:t(()=>[u(B,null,{default:t(()=>[(l(!0),f(L,null,C(h(v),(e,d)=>(l(),c(V,{key:d,span:6},{default:t(()=>[u(O,{label:e.code,disabled:h(n).disableList.includes(e.code)},{default:t(()=>[_(p(e.name),1)]),_:2},1032,["label","disabled"])]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])}}});const oe=J(le,[["__scopeId","data-v-bb7eaf1d"]]);export{oe as default};
