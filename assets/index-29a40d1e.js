import{_ as T}from"./index-9a100d82.js";import{d as V,r as v,B as D,e as _,o as u,f as y,g as e,h as d,w as n,l as O,i as m,L as C,O as U,t as q,m as b,aa as I,a1 as E,b_ as A,E as F,S as j,_ as G,q as H,x as B}from"./index-17000ae8.js";import J from"./index-ee901073.js";import"./index-a0a5d690.js";import"./sortable.esm-be94e56d.js";const K={class:"absolute-container"},P={class:"page-main"},Q={class:"custom-tree-node"},W=["title"],X={class:"text"},Y={class:"actions"},Z={key:1,class:"empty"},M=V({__name:"index",setup(ee){const $=v(),p=v([]),s=v({visible:!1,id:"",parentId:""});function f(){I.get("pages_example/menu/list",{baseURL:"/mock/"}).then(t=>{p.value=t.data})}D(()=>{f()});function L(t){s.value={visible:!1,id:"",parentId:""},E(()=>{s.value={visible:!0,id:"",parentId:t.id}})}function g(t){s.value={visible:!1,id:"",parentId:""},E(()=>{s.value={visible:!0,id:(t==null?void 0:t.id)??"",parentId:(t==null?void 0:t.parentId)??""}})}function S(t,c){A.confirm(`确认删除「${c.label}」吗？`,"确认信息").then(()=>{I.post("pages_example/menu/delete",{id:c.id},{baseURL:"/mock/"}).then(()=>{F.success({message:"模拟删除成功",center:!0});const r=t.parent,o=r.data.children||r.data,i=o.findIndex(l=>l.id===c.id);o.splice(i,1),p.value=[...p.value]})})}function w(){s.value={visible:!1,id:"",parentId:""},f()}return(t,c)=>{const r=j,o=_("el-button"),i=G,l=_("el-icon"),x=_("el-button-group"),z=_("ElTree"),N=_("el-scrollbar"),R=T;return u(),y("div",K,[e(r,{title:"导航管理",content:"页面数据为 Mock 示例数据，非真实数据。"}),d("div",P,[e(R,{"left-side-width":"300px","hide-left-side-toggle":""},{leftSide:n(()=>[e(x,{class:"btns"},{default:n(()=>[e(o,{type:"primary",class:"add",onClick:c[0]||(c[0]=k=>g())},{default:n(()=>[O(" 新增主导航 ")]),_:1}),e(o,{onClick:f},{icon:n(()=>[e(l,null,{default:n(()=>[e(i,{name:"i-ep:refresh"})]),_:1})]),_:1})]),_:1}),e(N,{class:"tree"},{default:n(()=>[e(z,{ref_key:"menuRef",ref:$,data:m(p),"default-expand-all":""},{default:n(({node:k,data:a})=>[d("div",Q,[d("div",{class:"label",title:a.meta.title},[a.meta.icon?(u(),C(l,{key:0,size:"16px",style:{"margin-right":"5px"}},{default:n(()=>[e(i,{name:a.meta.icon},null,8,["name"])]),_:2},1024)):U("",!0),d("div",X,q(a.meta.title),1)],8,W),d("div",Y,[e(x,null,{default:n(()=>[e(o,{type:"primary",plain:"",size:"small",onClick:b(h=>L(a),["stop"])},{icon:n(()=>[e(l,null,{default:n(()=>[e(i,{name:"i-ep:plus"})]),_:1})]),_:2},1032,["onClick"]),e(o,{type:"info",plain:"",size:"small",onClick:b(h=>g(a),["stop"])},{icon:n(()=>[e(l,null,{default:n(()=>[e(i,{name:"i-ep:edit"})]),_:1})]),_:2},1032,["onClick"]),e(o,{type:"danger",plain:"",size:"small",onClick:b(h=>S(k,a),["stop"])},{icon:n(()=>[e(l,null,{default:n(()=>[e(i,{name:"i-ep:delete"})]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)])])]),_:1},8,["data"])]),_:1})]),default:n(()=>[m(s).visible?(u(),C(J,{key:0,id:m(s).id,"parent-id":m(s).parentId,onOnSubmit:w},null,8,["id","parent-id"])):(u(),y("div",Z," 请在左侧新增或编辑一个导航 "))]),_:1})])])}}});typeof B=="function"&&B(M);const le=H(M,[["__scopeId","data-v-e2ea1ba3"]]);export{le as default};
